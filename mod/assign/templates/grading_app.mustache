{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_assign/grading_app

    Actions panel at the bottom of the assignment grading UI.

    This template includes ajax functionality, so it cannot be shown in the template library.

    For more details re: the example context, see grading_app.php

    Classes required for JS:
    * Uses some bootstrap classes, but for visual appeal only.

    Data attributes required for JS:
    * data-region, data-first-userid, data-courseid, data-contextid, data-assignmentid, data-userid-list-id

    Example context (json):
    {
        "userid": 12,
        "assignmentid": "1",
        "cmid": "2",
        "contextid": 35,
        "groupid": false,
        "name": "Assignment: Assignment Name",
        "courseid": "2",
        "participants": [
            {
                "id": "12",
                "fullname": "Hugo Peña",
                "requiregrading": false,
                "grantedextension": false,
                "submitted": false,
                "current": true
            }
        ],
        "markingworkflowfilters": [],
        "hasmarkingworkflow": false,
        "markingallocationfilters": [],
        "hasmarkingallocation": false,
        "useridlistid": "615d3b0e4e3f2948284114",
        "index": 1,
        "actiongrading": "grading",
        "viewgrading": "View all submissions",
        "showreview": true,
        "count": 10,
        "coursename": "Course: Blah",
        "caneditsettings": true,
        "duedate": 1633881600,
        "duedatestr": "Monday, 11 October 2021, 12:00 AM",
        "timeremainingstr": "Time remaining: 4 days 10 hours",
        "defaultsendnotifications": "1",
        "rarrow": "►",
        "larrow": "◄",
        "showuseridentity": "email",
        "currentuserid": "2",
        "helpicon": {
            "heading": "Notify students",
            "text": "Help string",
            "alt": "Help with Notify students",
            "icon": {
                "attributes": [
                    {
                        "name": "alt",
                        "value": "Help with Notify students"
                    },
                    {
                        "name": "title",
                        "value": "Help with Notify students"
                    },
                    {
                        "name": "src",
                        "value": "http://localhost/m/stable_master/theme/image.php?theme=boost&component=core&image=help"
                    }
                ],
                "extraclasses": "iconhelp"
            },
            "linktext": null,
            "title": "Help with Notify students",
            "url": "http://localhost/m/stable_master/help.php?component=assign&identifier=sendstudentnotifications&lang=en",
            "ltr": true
        }
    }
}}
<div data-region="grading-navigation-panel" data-first-userid="{{userid}}" data-courseid="{{courseid}}" data-showuseridentity="{{showuseridentity}}" data-userid-list-id="{{useridlistid}}">
{{> mod_assign/grading_navigation }}
</div>
{{#showreview}}
<div data-region="review-panel">
    <a href="#" data-region="review-panel-toggle">
        <div class="collapse-icon">{{#pix}} t/expanded, core, {{#str}} collapsereviewpanel, mod_assign {{/str}} {{/pix}}</div>
        <div class="expand-icon">
            <div class="ltr-icon">{{#pix}} t/collapsed, core, {{#str}} expandreviewpanel, mod_assign {{/str}} {{/pix}}</div>
            <div class="rtl-icon">{{#pix}} t/collapsed_rtl, core, {{#str}} expandreviewpanel, mod_assign {{/str}} {{/pix}}</div>
            <div class="toggle-text">{{#str}} clickexpandreviewpanel, mod_assign {{/str}}</div>
        </div>
    </a>
    <div data-region="review-panel-content">
        <div data-region="review">
            {{> mod_assign/review_panel }}
        </div>
    </div>
</div>
{{/showreview}}
<div data-region="grade-panel" {{^showreview}}class="fullwidth"{{/showreview}}>
<div data-region="grade" data-contextid="{{contextid}}" data-assignmentid="{{assignmentid}}">
{{> mod_assign/grading_panel }}
</div>
</div>
<div data-region="grade-actions-panel">
<div data-region="grade-actions">
<div class="tool_usertours-resettourcontainer float-left"></div>
{{> mod_assign/grading_actions }}
</div>
</div>
<div data-region="overlay" class="moodle-has-zindex">
{{> mod_assign/grading_save_in_progress }}
</div>
